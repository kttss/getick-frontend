<div id="register" class="inner-scroll" fxLayout="row" fxLayoutAlign="start">
  <div id="register-intro" fxFlex fxHide fxShow.gt-xs>
    <div class="logo" [@animate]="{ value: '*', params: { scale: '0.2' } }">
      <img src="assets/images/logos/fuse.svg" />
    </div>

    <div class="title" [@animate]="{ value: '*', params: { delay: '50ms', y: '25px' } }">
      {{ 'signup.title' | translate }}
    </div>

    <div class="description" [@animate]="{ value: '*', params: { delay: '100ms', y: '25px' } }">
      {{ 'signup.description' | translate }}
    </div>
  </div>

  <div id="register-form-wrapper" fusePerfectScrollbar [@animate]="{ value: '*', params: { delay: '300ms', x: '100%' } }">
    <div id="register-form">
      <div class="logo" fxHide.gt-xs>
        <img src="assets/images/logos/fuse.svg" />
      </div>

      <div class="title">{{ 'signup.form.title' | translate }}</div>

      <form name="registerForm" [formGroup]="registerForm" fxLayout="column" (ngSubmit)="onsubmit()" novalidate>
        <div fxLayout="row" class="info-perso" fxLayoutAlign="space-between center">
          <mat-form-field appearance="outline">
            <mat-label>{{ 'signup.form.first_name' | translate }}</mat-label>
            <input matInput formControlName="firstname" />
            <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
            <mat-error>
              {{ 'field_is_required' | translate }}
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>{{ 'signup.form.last_name' | translate }}</mat-label>
            <input matInput formControlName="lastname" />
            <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
            <mat-error>
              {{ 'field_is_required' | translate }}
            </mat-error>
          </mat-form-field>
        </div>

        <div fxLayout="column" fxLayoutAlign="start center" fxFlex="1 0 auto">
          <mat-form-field appearance="outline" fxFlex="100">
            <mat-label>{{ 'signup.form.role' | translate }}</mat-label>
            <mat-select formControlName="role" required>
              <mat-option [value]="'Cp'"> CP </mat-option>
              <mat-option [value]="'Developer'"> Developer </mat-option>
              <mat-option [value]="'Tester'"> Testeur </mat-option>
            </mat-select>
            <mat-icon matSuffix class="secondary-text">expand_more</mat-icon>
            <mat-error>Country is required!</mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>{{ 'signup.form.email' | translate }}</mat-label>
            <input matInput formControlName="email" />
            <mat-icon matSuffix class="secondary-text">mail</mat-icon>
            <mat-error *ngIf="registerForm.get('email').hasError('required')">
              {{ 'field_is_required' | translate }}
            </mat-error>
            <mat-error *ngIf="registerForm.get('email').hasError('email')">
              {{ 'email_is_not_valid' | translate }}
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>{{ 'signup.form.password' | translate }}</mat-label>
            <input matInput type="password" formControlName="password" />
            <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
            <mat-error>
              {{ 'field_is_required' | translate }}
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>{{ 'signup.form.password_confirm' | translate }}</mat-label>
            <input matInput type="password" formControlName="passwordConfirm" />
            <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
            <mat-error *ngIf="registerForm.get('passwordConfirm').hasError('required')"> Password confirmation is required </mat-error>
            <mat-error
              *ngIf="
                !registerForm.get('passwordConfirm').hasError('required') &&
                registerForm.get('passwordConfirm').hasError('passwordsNotMatching')
              "
            >
              Passwords must match
            </mat-error>
          </mat-form-field>

          <div class="terms" fxLayout="row" fxLayoutAlign="center center">
            <mat-checkbox name="terms" aria-label="Accept" required>
              <span>{{ 'signup.form.accept' | translate }}</span>
            </mat-checkbox>
            <a href="#">{{ 'signup.form.terms_and_conditions' | translate }}</a>
          </div>

          <button mat-raised-button color="accent" class="submit-button" aria-label="CREATE AN ACCOUNT" [disabled]="registerForm.invalid">
            {{ 'signup.form.create' | translate }}
          </button>
        </div>
      </form>

      <div class="register" fxLayout="column" fxLayoutAlign="center center">
        <span class="text">{{ 'signup.form.already_have_an_account' | translate }}</span>
        <a class="link" [routerLink]="'/login'">{{ 'signup.form.login' | translate }}</a>
      </div>
    </div>
  </div>
</div>
